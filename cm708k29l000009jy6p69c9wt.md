---
title: "C√¢u l·ªánh c√†i v√† ch·∫°y website tr√™n WSL"
datePublished: Tue Feb 11 2025 08:44:19 GMT+0000 (Coordinated Universal Time)
cuid: cm708k29l000009jy6p69c9wt
slug: cau-lenh-cai-va-chay-website-tren-wsl

---

## RUN website

* **Step 1: K·∫øt n·ªëi WSL tr√™n VSCode**
    
* **Step 2: B·∫≠t terminal v√† g√µ :** `sudo systemctl start apache2`
    
* ## L·ªánh c√†i apache2, nginx,mysql, php v√† ƒë·∫∑t th∆∞ m·ª•c
    
    ### Running your PHP web app on **WSL Ubuntu** instead of **XAMPP** can offer better performance and a more production-like environment. Here‚Äôs how you can set it up:
    
    ### **1\. Install WSL & Ubuntu**
    
    If you haven't installed WSL yet, open **PowerShell** as Administrator and run:
    
    ```powershell
    wsl --install -d Ubuntu
    ```
    
    Once installed, restart your system and open **Ubuntu** from the Start menu.
    
    ### **2\. Update & Install LAMP Stack**
    
    Inside Ubuntu, update the system:
    
    ```bash
    sudo apt update && sudo apt upgrade -y
    ```
    
    Then, install Apache, MySQL, and PHP:
    
    ```bash
    sudo apt install apache2 mysql-server php libapache2-mod-php php-mysql unzip curl -y
    ```
    
    ### **3\. Start & Enable Services**
    
    Start and enable Apache & MySQL:
    
    ```bash
    sudo systemctl start apache2
    sudo systemctl enable apache2
    sudo systemctl start mysql
    sudo systemctl enable mysql
    ```
    
    Check if Apache is running:
    
    ```bash
    sudo systemctl status apache2
    ```
    
    Open [`http://localhost`](http://localhost) in your **Windows browser**‚Äîyou should see the Apache default page.
    
    ### **4\. Set Up Your PHP Web App**
    
    Your web files should go in `/var/www/html/`. You can move your PHP project there:
    
    ```bash
    sudo cp -r /mnt/c/xampp/htdocs/your_project /var/www/html/
    ```
    
    Then, give Apache the necessary permissions:
    
    ```bash
    sudo chown -R www-data:www-data /var/www/html/your_project
    sudo chmod -R 755 /var/www/html/your_project
    ```
    
    ### **5\. Configure MySQL Database**
    
    Secure MySQL and set a root password:
    
    ```bash
    sudo mysql_secure_installation
    ```
    
    To create a database for your PHP web:
    
    ```bash
    sudo mysql -u root -p
    ```
    
    Then run:
    
    ```sql
    CREATE DATABASE my_database;
    GRANT ALL PRIVILEGES ON my_database.* TO 'my_user'@'localhost' IDENTIFIED BY 'your_password';
    FLUSH PRIVILEGES;
    EXIT;
    ```
    
    Update your PHP `.env` or database config file with:
    
    ```php
    DB_HOST=127.0.0.1
    DB_DATABASE=my_database
    DB_USERNAME=my_user
    DB_PASSWORD=your_password
    ```
    
    ### **6\. Restart Apache & Test PHP**
    
    Restart Apache to apply changes:
    
* `sudo systemctl restart apache2`
    

If you want to install **Nginx** on your **WSL Ubuntu** setup and use it instead of (or alongside) Apache, follow these steps:

---

### **1\. Install Nginx**

Run the following command in WSL Ubuntu:

```bash
sudo apt update && sudo apt install nginx -y
```

Once installed, start Nginx:

```bash
sudo systemctl start nginx
```

Enable it to start on boot:

```bash
sudo systemctl enable nginx
```

Check if Nginx is running:

```bash
sudo systemctl status nginx
```

Now, open [**http://localhost**](http://localhost) in your Windows browser‚Äîyou should see the Nginx welcome page.

---

### **2\. Stop Apache (If Needed)**

If Apache is already running and you don‚Äôt want conflicts:

```bash
sudo systemctl stop apache2
sudo systemctl disable apache2
```

Or, if you want to use **both Apache & Nginx**, you‚Äôll need to change the ports (explained later).

---

### **3\. Configure Nginx for PHP**

Edit the default Nginx configuration file:

```bash
sudo nano /etc/nginx/sites-available/default
```

Find this section:

```nginx
location / {
    index index.html index.htm;
}
```

Modify it to include `index.php`:

```nginx
location / {
    index index.php index.html index.htm;
    try_files $uri $uri/ =404;
}
```

Then, add the following block inside the `server {}` block to process PHP files:

```nginx
location ~ \.php$ {
    include snippets/fastcgi-php.conf;
    fastcgi_pass unix:/run/php/php8.1-fpm.sock;
    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    include fastcgi_params;
}
```

> **‚ö†Ô∏è Note:** The socket path might be different if you're using another PHP version. Use `ls /run/php/` to check.

Save and exit (`CTRL + X`, then `Y`, then `Enter`).

---

### **4\. Install & Configure PHP-FPM**

Since Nginx doesn‚Äôt support PHP processing directly (unlike Apache), we need to install **PHP-FPM**:

```bash
sudo apt install php-fpm -y
```

Enable PHP-FPM service:

```bash
sudo systemctl start php8.1-fpm
sudo systemctl enable php8.1-fpm
```

Restart Nginx to apply changes:

```bash
sudo systemctl restart nginx
```

---

---

### **6\. Configure Nginx for Your PHP Project**

If your PHP web app is inside `/var/www/html/your_project`, create an Nginx config file:

```bash
sudo nano /etc/nginx/sites-available/your_project
```

Paste this:

```nginx
server {
    listen 80;
    server_name localhost;

    root /var/www/html/your_project;
    index index.php index.html index.htm;

    location / {
        try_files $uri $uri/ =404;
    }

    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/run/php/php8.1-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }

    location ~ /\.ht {
        deny all;
    }
}
```

Save and exit.

Enable the config:

```bash
sudo ln -s /etc/nginx/sites-available/your_project /etc/nginx/sites-enabled/
```

Restart Nginx:

```bash
sudo systemctl restart nginx
```

Now, visit [**http://localhost/**](http://localhost/) to see your PHP website!

---

### **7\. Using Apache & Nginx Together (Optional)**

If you want **Nginx as a reverse proxy** for Apache (instead of disabling Apache), configure Nginx to forward PHP requests to Apache:  
Edit the Nginx config:

```bash
sudo nano /etc/nginx/sites-available/default
```

Replace `fastcgi_pass unix:/run/php/php8.1-fpm.sock;` with:

```nginx
proxy_pass http://127.0.0.1:8080;
```

Then, change Apache‚Äôs port in `/etc/apache2/ports.conf` and `/etc/apache2/sites-available/000-default.conf` to `8080`:

```bash
Listen 8080
<VirtualHost *:8080>
```

Restart both:

```bash
sudo systemctl restart apache2
sudo systemctl restart nginx
```

Now, Nginx will serve static content while Apache handles PHP.

---

### **Final Notes**

‚úÖ **Apache is easier** but heavier.  
‚úÖ **Nginx is faster** but requires PHP-FPM.  
‚úÖ **Using both** allows better performance and flexibility.

Let me know if you need more help! üöÄ